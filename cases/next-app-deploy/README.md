# Next.js アプリデプロイケース

## 概要

このケースでは、GitHub Actions を使用して Next.js アプリケーションをビルドし、デプロイするパイプラインを構築します。Docker コンテナを使用して、アプリケーションを効率的にデプロイする方法を示しています。

## パイプラインの流れ

1. コードのチェックアウト
2. Node.js のセットアップ
3. 依存関係のインストール
4. Next.js アプリケーションのビルド
5. Docker イメージのビルド
6. デプロイ環境へのデプロイ

## 必要な環境変数

GitHub Secrets に以下の値を設定する必要があります：

- `DEPLOY_TOKEN`: デプロイに必要なアクセストークン
- `DEPLOY_HOST`: デプロイ先のホスト情報

## ワークフローファイル

`workflows/next-app-deploy.yml`

## 使用方法

1. 必要な環境変数を GitHub Secrets に設定します
2. `main`ブランチにプッシュすると、ワークフローが自動的に実行されます
3. デプロイの進行状況は GitHub Actions のログで確認できます

## Dockerfile について

このケースでは、Next.js アプリケーションに最適化された Dockerfile を使用しています。マルチステージビルドを採用し、本番環境用の軽量なイメージを作成します。
